(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();function ht(o,n,t,s){const e=Math.sin(s),r=Math.cos(s),a=o[n],i=o[t];return{...o,[n]:a*r-i*e,[t]:a*e+i*r}}function kt(o,n){return ht(o,"x","y",n)}function Wt(o,n){return ht(o,"x","z",n)}function jt(o,n){return ht(o,"y","z",n)}function Ht(o,n){return ht(o,"x","w",n)}function Xt(o,n){return ht(o,"y","w",n)}function Ft(o,n){return ht(o,"z","w",n)}const ut=2*Math.PI,U=124.7354645891,G={xy:3.034538902655*U,xz:5.028469563403*U,yz:7.037635209575*U,xw:11.06479853421*U,yw:13.08750265132*U,zw:17.00573092632*U};function B(o){for(;o>=ut;)o-=ut;for(;o<0;)o+=ut;return o}function Yt(o){const n=[],t={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0};for(let s=0;s<o;s+=1){let e={x:1,y:.7,z:.8,w:.9};t.xy=B(t.xy+G.xy),e=kt(e,t.xy),t.xz=B(t.xz+G.xz),e=Wt(e,t.xz),t.yz=B(t.yz+G.yz),e=jt(e,t.yz),t.xw=B(t.xw+G.xw),e=Ht(e,t.xw),t.yw=B(t.yw+G.yw),e=Xt(e,t.yw),t.zw=B(t.zw+G.zw),e=Ft(e,t.zw),n.push(e)}return n}function qt(o,n,t,s,e){const{stereoHalfAngle:r,pointRadius:a,scaleX:i,palette:c,background:l}=s,h=o.canvas.width,f=o.canvas.height,w=h/2-h/4,M=h/2+h/4,C=Math.sin(r),u=Math.cos(r),g=Math.sin(e),A=Math.cos(e);o.fillStyle=l,o.fillRect(0,0,h,f);for(let p=0;p<n.length;p+=1){const y=n[p];if(y.w*A-y.x*g<0)continue;const d=y.w*g+y.x*A,m=y.z,S=d*u+m*C,$=d*u-m*C,b=S*i+w,E=$*i+M,L=t[p];o.fillStyle=c[p%c.length],o.beginPath(),o.arc(b,L,a,0,Math.PI*2),o.fill(),o.beginPath(),o.arc(E,L,a,0,Math.PI*2),o.fill()}}const Nt=1e3,Vt=.012,Ut=.15*.5,Gt=["#0000aa","#00aa00","#00aaaa","#ffff55"];function Bt(o){const n=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Yt(Nt);let s=0,e=[];const r=()=>{const i=o.parentElement;if(i){const h=i.getBoundingClientRect(),f=Math.max(320,Math.floor(h.width)),w=Math.floor(window.innerHeight*.65),M=Math.max(240,Math.min(w,Math.floor(f*(350/640))));o.width=f,o.height=M}else o.width=640,o.height=350;const c=o.height/350*70,l=o.height/2;e=t.map(h=>h.y*c+l)},a=()=>{s+=Vt,s>=Math.PI*2&&(s-=Math.PI*2);const i=o.width/640*80;o.height/350*70,qt(n,t,e,{stereoHalfAngle:Ut,pointRadius:2,scaleX:i,palette:Gt,background:"#080808"},s),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const St=.99,At=.61,$t=.86,Et=.74;function Zt(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let e=0;e<2;e++)o.push({x:n===0?St:-St,y:t===0?At:-At,z:s===0?$t:-$t,w:e===0?Et:-Et});return o}function x(o,n,t,s){return o*8+n*4+t*2+s}function vt(){return[{from:x(0,0,0,0),to:x(1,0,0,0),color:1},{from:x(0,1,0,0),to:x(1,1,0,0),color:2},{from:x(0,0,1,0),to:x(1,0,1,0),color:3},{from:x(0,1,1,0),to:x(1,1,1,0),color:4},{from:x(0,0,0,1),to:x(1,0,0,1),color:4},{from:x(0,1,0,1),to:x(1,1,0,1),color:3},{from:x(0,0,1,1),to:x(1,0,1,1),color:2},{from:x(0,1,1,1),to:x(1,1,1,1),color:1},{from:x(0,0,0,0),to:x(0,1,0,0),color:5},{from:x(1,0,0,0),to:x(1,1,0,0),color:6},{from:x(0,0,1,0),to:x(0,1,1,0),color:7},{from:x(1,0,1,0),to:x(1,1,1,0),color:7},{from:x(0,0,0,1),to:x(0,1,0,1),color:7},{from:x(1,0,0,1),to:x(1,1,0,1),color:7},{from:x(0,0,1,1),to:x(0,1,1,1),color:6},{from:x(1,0,1,1),to:x(1,1,1,1),color:5},{from:x(0,0,0,0),to:x(0,0,1,0),color:8},{from:x(1,0,0,0),to:x(1,0,1,0),color:9},{from:x(0,1,0,0),to:x(0,1,1,0),color:10},{from:x(1,1,0,0),to:x(1,1,1,0),color:11},{from:x(0,0,0,1),to:x(0,0,1,1),color:11},{from:x(1,0,0,1),to:x(1,0,1,1),color:10},{from:x(0,1,0,1),to:x(0,1,1,1),color:9},{from:x(1,1,0,1),to:x(1,1,1,1),color:8},{from:x(0,0,0,0),to:x(0,0,0,1),color:12},{from:x(1,0,0,0),to:x(1,0,0,1),color:13},{from:x(0,1,0,0),to:x(0,1,0,1),color:14},{from:x(1,1,0,0),to:x(1,1,0,1),color:15},{from:x(0,0,1,0),to:x(0,0,1,1),color:15},{from:x(1,0,1,0),to:x(1,0,1,1),color:14},{from:x(0,1,1,0),to:x(0,1,1,1),color:13},{from:x(1,1,1,0),to:x(1,1,1,1),color:12}]}function Kt(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Qt(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Jt(o,n,t,s,e){const{stereoHalfAngle:r,scaleX:a,scaleY:i,palette:c,background:l,lineWidth:h}=e,f=o.canvas.width,w=o.canvas.height;o.fillStyle=l,o.fillRect(0,0,f,w);const M=n.map(C=>Kt(C,s));for(let C=0;C<2;C++){const u=C===0?f/4:f/4*3,g=w/2,A=C===0?r:-r,p=[];for(const y of M){const z=Qt({x:y.x,z:y.z},A);p.push({x:z.x*a+u,y:y.y*i+g})}o.lineWidth=h;for(const y of t){const z=p[y.from],d=p[y.to];o.strokeStyle=c[y.color-1]||c[c.length-1],o.beginPath(),o.moveTo(z.x,z.y),o.lineTo(d.x,d.y),o.stroke()}}}const _=2*Math.PI,Z=2,v={xy:.0055*Z,xz:.0027*Z,yz:.0034*Z,xw:2e-4*Z,yw:.0039*Z,zw:.0091*Z},to=.15*.5,oo=["#ffffff","#0000aa","#00aa00","#005555","#00aa00","#00aa55","#00aaaa","#00aaff","#aaaa00","#aaaa55","#55ff55","#55ffaa","#55ffff","#ffff55","#ffffff"];function no(o){const n=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Zt(),s=vt(),e={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{e.xy+=v.xy,e.xz+=v.xz,e.yz+=v.yz,e.xw+=v.xw,e.yw+=v.yw,e.zw+=v.zw,e.xy>_&&(e.xy-=_),e.xz>_&&(e.xz-=_),e.yz>_&&(e.yz-=_),e.xw>_&&(e.xw-=_),e.yw>_&&(e.yw-=_),e.zw>_&&(e.zw-=_);const i=o.width/640*80,c=o.height/350*70;Jt(n,t,s,e,{stereoHalfAngle:to,scaleX:i,scaleY:c,palette:oo,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const bt=.99,Rt=.61,Tt=.53,It=.45;function eo(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let e=0;e<2;e++)o.push({x:n===0?bt:-bt,y:t===0?Rt:-Rt,z:s===0?Tt:-Tt,w:e===0?It:-It});return o}function X(o,n,t,s){return o*8+n*4+t*2+s}function so(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(0,n,t,s),to:X(1,n,t,s),dimension:1,fromIndices:[0,n,t,s],toIndices:[1,n,t,s]});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(n,0,t,s),to:X(n,1,t,s),dimension:2,fromIndices:[n,0,t,s],toIndices:[n,1,t,s]});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(n,t,0,s),to:X(n,t,1,s),dimension:3,fromIndices:[n,t,0,s],toIndices:[n,t,1,s]});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(n,t,s,0),to:X(n,t,s,1),dimension:4,fromIndices:[n,t,s,0],toIndices:[n,t,s,1]});return o}function ro(o,n){const[t,s,e,r]=n,[a,i,c,l]=o.fromIndices,[h,f,w,M]=o.toIndices;if(o.dimension===1){if(i===s&&c===e&&l===r)return!1}else if(o.dimension===2){if(a===t&&c===e&&l===r)return!1}else if(o.dimension===3){if(a===t&&i===s&&l===r)return!1}else if(o.dimension===4&&a===t&&i===s&&c===e)return!1;return!0}function io(o){let n=1/0,t=[0,0,0,0];for(let s=0;s<2;s++)for(let e=0;e<2;e++)for(let r=0;r<2;r++)for(let a=0;a<2;a++){const i=X(s,e,r,a);o[i].w<n&&(n=o[i].w,t=[s,e,r,a])}return t}function co(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function ao(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function lo(o,n,t,s,e){const{stereoHalfAngle:r,scaleX:a,scaleY:i,palette:c,background:l,lineWidth:h}=e,f=o.canvas.width,w=o.canvas.height;o.fillStyle=l,o.fillRect(0,0,f,w);const M=n.map(u=>co(u,s)),C=io(M);for(let u=0;u<2;u++){const g=u===0?f/4:f/4*3,A=w/2,p=u===0?r:-r,y=[];for(const z of M){const d=ao({x:z.x,z:z.z},p);y.push({x:d.x*a+g,y:z.y*i+A})}o.lineWidth=h;for(const z of t){if(!ro(z,C))continue;const d=y[z.from],m=y[z.to];o.strokeStyle=c[z.dimension-1]||c[0],o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(m.x,m.y),o.stroke()}}}const k=2*Math.PI,K=1,Q={xy:.0093*K,xz:.0063*K,yz:.0054*K,xw:.0037*K,yw:.0084*K,zw:.0048*K},fo=.2*.5,ho=["#0000aa","#00aa00","#aaaa00","#ffff55"];function wo(o){const n=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=eo(),s=so(),e={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{e.xy+=Q.xy,e.xz+=Q.xz,e.yz+=Q.yz,e.xw+=Q.xw,e.yw+=Q.yw,e.zw+=Q.zw,e.xy>k&&(e.xy-=k),e.xz>k&&(e.xz-=k),e.yz>k&&(e.yz-=k),e.xw>k&&(e.xw-=k),e.yw>k&&(e.yw-=k),e.zw>k&&(e.zw-=k);const i=o.width/640*80,c=o.height/350*70;lo(n,t,s,e,{stereoHalfAngle:fo,scaleX:i,scaleY:c,palette:ho,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const yo=.9,xo=0,zo=.8,uo=0,go=.7,mo=0,po=1.2,Mo=0;function Co(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let e=0;e<2;e++)o.push({x:n===0?yo:xo,y:t===0?zo:uo,z:s===0?go:mo,w:e===0?po:Mo});return o}function F(o,n,t,s){return o*8+n*4+t*2+s}function So(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(0,n,t,s),to:F(1,n,t,s)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(n,0,t,s),to:F(n,1,t,s)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(n,t,0,s),to:F(n,t,1,s)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(n,t,s,0),to:F(n,t,s,1)});return o}function Ao(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function $o(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Eo(o,n,t,s,e){const{stereoHalfAngle:r,scaleX:a,scaleY:i,edgeColor:c,centerDotColor:l,background:h,lineWidth:f}=e,w=o.canvas.width,M=o.canvas.height;o.fillStyle=h,o.fillRect(0,0,w,M);const C=n.map(u=>Ao(u,s));for(let u=0;u<2;u++){const g=u===0?w/4:w/4*3,A=M/2,p=u===0?r:-r,y=[];for(const d of C){const m=$o({x:d.x,z:d.z},p);y.push({x:m.x*a+g,y:d.y*i+A})}o.strokeStyle=c,o.lineWidth=f;for(const d of t){const m=y[d.from],S=y[d.to];o.beginPath(),o.moveTo(m.x,m.y),o.lineTo(S.x,S.y),o.stroke()}o.fillStyle=l;const z=Math.max(2,Math.floor(w/240));o.beginPath(),o.arc(g,A,z,0,Math.PI*2),o.fill()}}const R=2*Math.PI,J=.5,tt={xy:-.05*.02*J,xz:-.35*.02*J,yz:.79*.02*J,xw:-.63*.02*J,yw:.57*.02*J,zw:-.47*.02*J},bo=.2*.5,Ro="#55ffff",To="#aa55aa";function Io(o){const n=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Co(),s=So(),e={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{e.xy+=tt.xy,e.xz+=tt.xz,e.yz+=tt.yz,e.xw+=tt.xw,e.yw+=tt.yw,e.zw+=tt.zw,e.xy>R&&(e.xy-=R),e.xy<0&&(e.xy+=R),e.xz>R&&(e.xz-=R),e.xz<0&&(e.xz+=R),e.yz>R&&(e.yz-=R),e.yz<0&&(e.yz+=R),e.xw>R&&(e.xw-=R),e.xw<0&&(e.xw+=R),e.yw>R&&(e.yw-=R),e.yw<0&&(e.yw+=R),e.zw>R&&(e.zw-=R),e.zw<0&&(e.zw+=R);const i=o.width/640*80,c=o.height/350*68;Eo(n,t,s,e,{stereoHalfAngle:bo,scaleX:i,scaleY:c,edgeColor:Ro,centerDotColor:To,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const Po=.9,Oo=0,Do=.8,Lo=0,_o=.7,ko=0;function Wo(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({x:n===0?Po:Oo,y:t===0?Do:Lo,z:s===0?_o:ko,w:0});return o}function ot(o,n,t){return o*4+n*2+t}function jo(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:ot(0,n,t),to:ot(1,n,t)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:ot(n,0,t),to:ot(n,1,t)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:ot(n,t,0),to:ot(n,t,1)});return o}function Ho(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Xo(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Fo(o,n,t,s,e){const{stereoHalfAngle:r,scaleX:a,scaleY:i,edgeColor:c,centerDotColor:l,background:h,lineWidth:f}=e,w=o.canvas.width,M=o.canvas.height;o.fillStyle=h,o.fillRect(0,0,w,M);const C=n.map(u=>Ho(u,s));for(let u=0;u<2;u++){const g=u===0?w/4:w/4*3,A=M/2,p=u===0?r:-r,y=[];for(const d of C){const m=Xo({x:d.x,z:d.z},p);y.push({x:m.x*a+g,y:d.y*i+A})}o.strokeStyle=c,o.lineWidth=f;for(const d of t){const m=y[d.from],S=y[d.to];o.beginPath(),o.moveTo(m.x,m.y),o.lineTo(S.x,S.y),o.stroke()}o.fillStyle=l;const z=Math.max(2,Math.floor(w/240));o.beginPath(),o.arc(g,A,z,0,Math.PI*2),o.fill()}}const T=2*Math.PI,nt=.5,et={xy:-.05*.02*nt,xz:-.35*.02*nt,yz:.79*.02*nt,xw:-.63*.02*nt,yw:.57*.02*nt,zw:-.47*.02*nt},Yo=.2*.5,qo="#55ffff",No="#aa55aa";function Vo(o){const n=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Wo(),s=jo(),e={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{e.xy+=et.xy,e.xz+=et.xz,e.yz+=et.yz,e.xw+=et.xw,e.yw+=et.yw,e.zw+=et.zw,e.xy>T&&(e.xy-=T),e.xy<0&&(e.xy+=T),e.xz>T&&(e.xz-=T),e.xz<0&&(e.xz+=T),e.yz>T&&(e.yz-=T),e.yz<0&&(e.yz+=T),e.xw>T&&(e.xw-=T),e.xw<0&&(e.xw+=T),e.yw>T&&(e.yw-=T),e.yw<0&&(e.yw+=T),e.zw>T&&(e.zw-=T),e.zw<0&&(e.zw+=T);const i=o.width/640*80,c=o.height/350*68;Fo(n,t,s,e,{stereoHalfAngle:Yo,scaleX:i,scaleY:c,edgeColor:qo,centerDotColor:No,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const gt=.9,mt=-.9,Uo=1.8;function Go(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({x:n===0?gt:mt,y:t===0?gt:mt,z:s===0?gt:mt,w:0});return o}function Bo(){return{x:Uo,y:0,z:0,w:0}}function st(o,n,t){return o*4+n*2+t}function Zo(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:st(0,n,t),to:st(1,n,t)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:st(n,0,t),to:st(n,1,t)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:st(n,t,0),to:st(n,t,1)});return o}function Pt(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Ot(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function vo(o,n,t,s,e,r){const{stereoHalfAngle:a,scaleX:i,scaleY:c,edgeColor:l,arrowColor:h,centerDotColor:f,background:w,lineWidth:M}=r,C=o.canvas.width,u=o.canvas.height;o.fillStyle=w,o.fillRect(0,0,C,u);const g=n.map(p=>Pt(p,e)),A=Pt(s,e);for(let p=0;p<2;p++){const y=p===0?C/4:C/4*3,z=u/2,d=p===0?a:-a,m=[];for(const E of g){const L=Ot({x:E.x,z:E.z},d);m.push({x:L.x*i+y,y:E.y*c+z})}const $={x:Ot({x:A.x,z:A.z},d).x*i+y,y:A.y*c+z};o.strokeStyle=l,o.lineWidth=M;for(const E of t){const L=m[E.from],j=m[E.to];o.beginPath(),o.moveTo(L.x,L.y),o.lineTo(j.x,j.y),o.stroke()}o.strokeStyle=h,o.lineWidth=M,o.beginPath(),o.moveTo(y,z),o.lineTo($.x,$.y),o.stroke(),o.fillStyle=f;const b=Math.max(2,Math.floor(C/240));o.beginPath(),o.arc(y,z,b,0,Math.PI*2),o.fill()}}const I=2*Math.PI,wt=.5,rt={xy:-.05*.02*wt,xz:-.35*.02*wt,yz:.79*.02*wt,xw:-.42*.02*wt,yw:.52*.02*wt,zw:0},Ko=.2*.5,Qo="#55ffff",Jo="#ffffff",tn="#aa55aa";function on(o){const n=(()=>{const c=o.getContext("2d");if(!c)throw new Error("Unable to acquire 2D rendering context.");return c})(),t=Go(),s=Zo(),e=Bo(),r={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},a=()=>{const c=o.parentElement;if(c){const l=c.getBoundingClientRect(),h=Math.max(320,Math.floor(l.width)),f=Math.floor(window.innerHeight*.65),w=Math.max(240,Math.min(f,Math.floor(h*(350/640))));o.width=h,o.height=w}else o.width=640,o.height=350},i=()=>{r.xy+=rt.xy,r.xz+=rt.xz,r.yz+=rt.yz,r.xw+=rt.xw,r.yw+=rt.yw,r.zw+=rt.zw,r.xy>I&&(r.xy-=I),r.xy<0&&(r.xy+=I),r.xz>I&&(r.xz-=I),r.xz<0&&(r.xz+=I),r.yz>I&&(r.yz-=I),r.yz<0&&(r.yz+=I),r.xw>I&&(r.xw-=I),r.xw<0&&(r.xw+=I),r.yw>I&&(r.yw-=I),r.yw<0&&(r.yw+=I),r.zw>I&&(r.zw-=I),r.zw<0&&(r.zw+=I);const c=o.width/640*80,l=o.height/350*68;vo(n,t,s,e,r,{stereoHalfAngle:Ko,scaleX:c,scaleY:l,edgeColor:Qo,arrowColor:Jo,centerDotColor:tn,background:"#080808",lineWidth:1.5}),requestAnimationFrame(i)};return a(),requestAnimationFrame(i),{resize:a}}const pt=.8,Mt=-.8,H=25;function nn(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({x:n===0?pt:Mt,y:t===0?pt:Mt,z:s===0?pt:Mt,w:0});return o}function W(o,n,t){return o*4+n*2+t}function en(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:W(0,n,t),to:W(1,n,t)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:W(n,0,t),to:W(n,1,t)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)o.push({from:W(n,t,0),to:W(n,t,1)});return o}function sn(){return[{v11:W(0,0,0),v12:W(0,1,0),v21:W(1,0,0),colorIndex:0},{v11:W(0,0,1),v12:W(0,1,1),v21:W(1,0,1),colorIndex:1}]}function rn(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function cn(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function an(o,n,t,s,e,r){const{stereoHalfAngle:a,scaleX:i,scaleY:c,edgeDotColor:l,faceColors:h,background:f,dotRadius:w}=r,M=o.canvas.width,C=o.canvas.height;o.fillStyle=f,o.fillRect(0,0,M,C);const u=n.map(g=>rn(g,e));for(let g=0;g<2;g++){const A=g===0?M/4:M/4*3,p=C/2,y=g===0?a:-a,z=[];for(const d of u){const m=cn({x:d.x,z:d.z},y);z.push({x:m.x*i+A,y:d.y*c+p})}for(const d of s){const m=z[d.v11],S=z[d.v12],$=z[d.v21],b=($.x-m.x)/H,E=($.y-m.y)/H,L=(S.x-m.x)/H,j=(S.y-m.y)/H;o.fillStyle=h[d.colorIndex];for(let N=1;N<H;N++)for(let V=1;V<H;V++){const dt=m.x+b*N+L*V,_t=m.y+E*N+j*V;o.beginPath(),o.arc(dt,_t,w,0,Math.PI*2),o.fill()}}o.fillStyle=l;for(const d of t){const m=z[d.from],S=z[d.to],$=(S.x-m.x)/H,b=(S.y-m.y)/H;for(let E=1;E<=H;E++){const L=m.x+$*E,j=m.y+b*E;o.beginPath(),o.arc(L,j,w,0,Math.PI*2),o.fill()}}o.fillStyle=l,o.beginPath(),o.arc(z[0].x,z[0].y,w,0,Math.PI*2),o.fill()}}const P=2*Math.PI,yt=.5,it={xy:-.05*.01*yt,xz:-.35*.01*yt,yz:.79*.01*yt,xw:-.42*.01*yt,yw:.52*.01*yt,zw:0},ln=.2*.5,fn="#ffffff",hn=["#00aa00","#ff5555"];function wn(o){const n=(()=>{const c=o.getContext("2d");if(!c)throw new Error("Unable to acquire 2D rendering context.");return c})(),t=nn(),s=en(),e=sn(),r={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},a=()=>{const c=o.parentElement;if(c){const l=c.getBoundingClientRect(),h=Math.max(320,Math.floor(l.width)),f=Math.floor(window.innerHeight*.65),w=Math.max(240,Math.min(f,Math.floor(h*(350/640))));o.width=h,o.height=w}else o.width=640,o.height=350},i=()=>{r.xy+=it.xy,r.xz+=it.xz,r.yz+=it.yz,r.xw+=it.xw,r.yw+=it.yw,r.zw+=it.zw,r.xy>P&&(r.xy-=P),r.xy<0&&(r.xy+=P),r.xz>P&&(r.xz-=P),r.xz<0&&(r.xz+=P),r.yz>P&&(r.yz-=P),r.yz<0&&(r.yz+=P),r.xw>P&&(r.xw-=P),r.xw<0&&(r.xw+=P),r.yw>P&&(r.yw-=P),r.yw<0&&(r.yw+=P),r.zw>P&&(r.zw-=P),r.zw<0&&(r.zw+=P);const c=o.width/640*80,l=o.height/350*68,h=Math.max(.8,o.width/640*.9);an(n,t,s,e,r,{stereoHalfAngle:ln,scaleX:c,scaleY:l,edgeDotColor:fn,faceColors:hn,background:"#080808",dotRadius:h}),requestAnimationFrame(i)};return a(),requestAnimationFrame(i),{resize:a}}const Dt=1.25,xt=100,yn=6;function xn(){return[{x:Dt,y:0,z:0,w:0},{x:-Dt,y:0,z:0,w:0}]}function zn(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function dn(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function un(o){const n=Math.max(1,Math.min(15,Math.round(o))),t=Math.round(n/15*255);return`rgb(${t}, ${t}, ${t})`}function gn(o,n,t,s){const{stereoHalfAngle:e,scaleX:r,scaleY:a,background:i,dotRadius:c}=s,l=o.canvas.width,h=o.canvas.height;o.fillStyle=i,o.fillRect(0,0,l,h);const f=n.map(w=>zn(w,t));for(let w=0;w<2;w++){const M=w===0?l/4:l/4*3,C=h/2,u=w===0?e:-e,g=f.map(b=>({x:dn({x:b.x,z:b.z},u).x*r+M,y:b.y*a+C})),A=f[0].w,p=f[1].w,y=(g[1].x-g[0].x)/xt,z=(g[1].y-g[0].y)/xt,d=(p-A)/xt;let m=g[0].x,S=g[0].y,$=A;for(let b=1;b<=xt;b++){m+=y,S+=z,$+=d;const E=$*yn+8,L=un(E);o.fillStyle=L,o.beginPath(),o.arc(m,S,c,0,Math.PI*2),o.fill()}}}const O=2*Math.PI,ct=.3,at={xy:-.2*.1*ct,xz:-.13*.1*ct,yz:.23*.1*ct,xw:-.29*.1*ct,yw:.17*.1*ct,zw:-.11*.1*ct},mn=.2*.5;function pn(o){const n=(()=>{const a=o.getContext("2d");if(!a)throw new Error("Unable to acquire 2D rendering context.");return a})(),t=xn(),s={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},e=()=>{const a=o.parentElement;if(a){const i=a.getBoundingClientRect(),c=Math.max(320,Math.floor(i.width)),l=Math.floor(window.innerHeight*.65),h=Math.max(240,Math.min(l,Math.floor(c*(480/640))));o.width=c,o.height=h}else o.width=640,o.height=480},r=()=>{s.xy+=at.xy,s.xz+=at.xz,s.yz+=at.yz,s.xw+=at.xw,s.yw+=at.yw,s.zw+=at.zw,s.xy>O&&(s.xy-=O),s.xy<0&&(s.xy+=O),s.xz>O&&(s.xz-=O),s.xz<0&&(s.xz+=O),s.yz>O&&(s.yz-=O),s.yz<0&&(s.yz+=O),s.xw>O&&(s.xw-=O),s.xw<0&&(s.xw+=O),s.yw>O&&(s.yw-=O),s.yw<0&&(s.yw+=O),s.zw>O&&(s.zw-=O),s.zw<0&&(s.zw+=O);const a=o.width/640*100,i=o.height/480*99,c=Math.max(1,o.width/640*1.5);gn(n,t,s,{stereoHalfAngle:mn,scaleX:a,scaleY:i,background:"#000000",dotRadius:c}),requestAnimationFrame(r)};return e(),requestAnimationFrame(r),{resize:e}}const Y=.75,zt=150,Mn=4;function Cn(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let e=0;e<2;e++)o.push({x:n===0?Y:-Y,y:t===0?Y:-Y,z:s===0?Y:-Y,w:e===0?Y:-Y});return o}function q(o,n,t,s){return o*8+n*4+t*2+s}function Sn(){const o=[];for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(0,n,t,s),to:q(1,n,t,s)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(n,0,t,s),to:q(n,1,t,s)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(n,t,0,s),to:q(n,t,1,s)});for(let n=0;n<2;n++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(n,t,s,0),to:q(n,t,s,1)});return o}function An(o,n){let t={...o};const s=Math.sin(n.xy),e=Math.cos(n.xy),r=t.x*e+t.y*s,a=-t.x*s+t.y*e;t.x=r,t.y=a;const i=Math.sin(n.xz),c=Math.cos(n.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(n.yz),w=Math.cos(n.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(n.xw),g=Math.cos(n.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(n.yw),z=Math.cos(n.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(n.zw),$=Math.cos(n.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function $n(o,n){const t=Math.sin(n),s=Math.cos(n);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function En(o){const n=Math.max(0,Math.min(15,Math.round(o))),t=Math.round(n/15*255);return`rgb(${t}, ${t}, ${t})`}function bn(o,n,t,s,e){const{stereoHalfAngle:r,scaleX:a,scaleY:i,background:c,dotRadius:l}=e,h=o.canvas.width,f=o.canvas.height;o.fillStyle=c,o.fillRect(0,0,h,f);const w=n.map(M=>An(M,s));for(let M=0;M<2;M++){const C=M===0?h/4:h/4*3,u=f/2,g=M===0?r:-r,A=w.map(p=>({x:$n({x:p.x,z:p.z},g).x*a+C,y:p.y*i+u}));for(const p of t){const y=A[p.from],z=A[p.to],d=w[p.from].w,m=w[p.to].w,S=(z.x-y.x)/zt,$=(z.y-y.y)/zt,b=(m-d)/zt;let E=y.x,L=y.y,j=d;for(let N=1;N<=zt;N++){E+=S,L+=$,j+=b;const V=-j*Mn+8,dt=En(V);o.fillStyle=dt,o.beginPath(),o.arc(E,L,l,0,Math.PI*2),o.fill()}}}}const D=2*Math.PI,lt=.3,ft={xy:-.17*.04*lt,xz:-.35*.04*lt,yz:.79*.04*lt,xw:-.42*.04*lt,yw:.52*.04*lt,zw:-.29*.04*lt},Rn=.16*.5;function Tn(o){const n=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Cn(),s=Sn(),e={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(480/640))));o.width=l,o.height=f}else o.width=640,o.height=480},a=()=>{e.xy+=ft.xy,e.xz+=ft.xz,e.yz+=ft.yz,e.xw+=ft.xw,e.yw+=ft.yw,e.zw+=ft.zw,e.xy>D&&(e.xy-=D),e.xy<0&&(e.xy+=D),e.xz>D&&(e.xz-=D),e.xz<0&&(e.xz+=D),e.yz>D&&(e.yz-=D),e.yz<0&&(e.yz+=D),e.xw>D&&(e.xw-=D),e.xw<0&&(e.xw+=D),e.yw>D&&(e.yw-=D),e.yw<0&&(e.yw+=D),e.zw>D&&(e.zw-=D),e.zw<0&&(e.zw+=D);const i=o.width/640*100,c=o.height/480*99,l=Math.max(.5,o.width/640*.7);bn(n,t,s,e,{stereoHalfAngle:Rn,scaleX:i,scaleY:c,background:"#000000",dotRadius:l}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const Ct={four01:{create:no,title:"4D Tesseract – Rotating Hyperrectangle",description:"A 4D rectangular parallelepiped rotating through all six 4D planes."},four02:{create:wo,title:"4D Tesseract – Hidden Edges",description:"A 4D hyperrectangle with automatic hidden edge removal based on W-coordinate depth."},four03:{create:Io,title:"4D Tesseract – Asymmetric Monochrome",description:"An asymmetric 4D hyperrectangle with all edges visible, monochrome rendering."},four04:{create:Vo,title:"3D Cube in 4D Space",description:"A 3D rectangular parallelepiped rotating through 4D space, showing 4D rotations of a 3D object."},four05:{create:on,title:"3D Cube with Arrow in 4D",description:"A 3D cube with an arrow perpendicular to one face, rotating through 4D space."},four06:{create:wn,title:"3D Cube – Dotted Edges & Faces",description:"A 3D cube with dotted edges and two opposite faces covered with colored dot grids."},four14:{create:pn,title:"1D Line – W-Depth Shading",description:"A straight line rotating in 4D space with brightness varying by W-coordinate depth."},four15:{create:Tn,title:"4D Tesseract – W-Depth Shading",description:"A 4D tesseract with edges rendered as dotted lines, brightness varying by W-coordinate depth."},four16:{create:Bt,title:"4D Sphere (S³) – W-Gated Stereo",description:"A 4D point cloud on the 3-sphere, with perceptual W-gate hiding half the space."}};function In(){const o=window.location.hash.slice(1);return o in Ct?o:null}function Pn(){const o=document.getElementById("app");o&&(o.innerHTML=`
    <div class="landing">
      <header class="landing-header">
        <h1>4D Visualisations</h1>
        <p class="subtitle">Reconstructions of Undo Uus's experiments in human perception (1997–2000)</p>
        <a href="https://github.com/erikuus/undo-uus-4d-visuals" class="github-link" target="_blank" rel="noopener noreferrer">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
          </svg>
          Source code and archival material
        </a>
      </header>

      <section class="intro">
        <p>
          We are able to perceive a stable three-dimensional object from changing two-dimensional images—for
          example when watching a film, a computer screen, or a rotating object rendered on a flat display.
          Although only two-dimensional projections are presented, the perceptual system reconstructs a
          coherent three-dimensional form.
        </p>
        <p class="question">
          These experiments explore a simple but unconventional question:
        </p>
        <p class="emphasis">
          If the perceptual system can recognize a stable three-dimensional structure in dynamically changing
          two-dimensional projections, might it also—when supplied with genuine stereoscopic three-dimensional
          input—recognize a stable four-dimensional structure—so that what initially appears as a changing
          three-dimensional scene is instead experienced as a coherent four-dimensional form?
        </p>
        <p>
          The visualizations presented here are modern reconstructions of programs written by Undo Uus between
          1997–2000 to generate such stimuli using stereoscopic rendering and mathematically correct
          four-dimensional rotations.
        </p>
      </section>

      <section class="experiments">
        <h2>Experiments</h2>
        <div class="vis-grid">
          ${Object.entries(Ct).map(([n,t])=>`
            <a href="#${n}" class="vis-card">
              <div class="vis-card-icon">${n==="four16"?"◉":n==="four02"?"⬡":n==="four03"?"◇":n==="four04"?"□":n==="four05"?"→":n==="four06"?"∷":n==="four14"?"―":"⬡"}</div>
              <h3>${t.title}</h3>
              <p>${t.description}</p>
            </a>
          `).join("")}
        </div>
      </section>

      <footer class="landing-footer">
        <div class="footer-legal">
          <p>© 1997–2000 Undo Uus (original experiments)</p>
          <p>© 2024–present Erik Uus (reconstructions and archival presentation)</p>
          <p class="disclaimer">This site is a research and archival project, not a commercial product.</p>
        </div>
      </footer>
    </div>
  `)}function On(o){const n=Ct[o],t=document.getElementById("app");if(!t||!n)return;t.innerHTML=`
    <div class="container">
      <nav class="vis-nav">
        <a href="#" class="back-link">← All Visualisations</a>
      </nav>
      <h1>${n.title}</h1>
      <p>${n.description}</p>
      <canvas id="canvas"></canvas>
      <p class="stereo-hint">For stereoscopic depth perception, view the left and right images using relaxed parallel gaze or cross-eye viewing.</p>
      <footer>Reconstruction of Undo Uus's QBasic experiment (1997–2000).</footer>
    </div>
  `;const s=document.getElementById("canvas");if(!(s instanceof HTMLCanvasElement))throw new Error('Expected a <canvas id="canvas"> element.');const e=n.create(s),r=()=>{var a;return(a=e==null?void 0:e.resize)==null?void 0:a.call(e)};window.addEventListener("resize",r),window.__visCleanup=()=>{window.removeEventListener("resize",r)}}function Lt(){const o=window.__visCleanup;o&&(o(),delete window.__visCleanup);const n=In();n?On(n):Pn()}window.addEventListener("hashchange",Lt);Lt();
