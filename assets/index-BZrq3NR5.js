(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function ht(o,e,t,s){const n=Math.sin(s),r=Math.cos(s),a=o[e],i=o[t];return{...o,[e]:a*r-i*n,[t]:a*n+i*r}}function _t(o,e){return ht(o,"x","y",e)}function Wt(o,e){return ht(o,"x","z",e)}function jt(o,e){return ht(o,"y","z",e)}function Ht(o,e){return ht(o,"x","w",e)}function Xt(o,e){return ht(o,"y","w",e)}function Ft(o,e){return ht(o,"z","w",e)}const ut=2*Math.PI,U=124.7354645891,B={xy:3.034538902655*U,xz:5.028469563403*U,yz:7.037635209575*U,xw:11.06479853421*U,yw:13.08750265132*U,zw:17.00573092632*U};function G(o){for(;o>=ut;)o-=ut;for(;o<0;)o+=ut;return o}function Yt(o){const e=[],t={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0};for(let s=0;s<o;s+=1){let n={x:1,y:.7,z:.8,w:.9};t.xy=G(t.xy+B.xy),n=_t(n,t.xy),t.xz=G(t.xz+B.xz),n=Wt(n,t.xz),t.yz=G(t.yz+B.yz),n=jt(n,t.yz),t.xw=G(t.xw+B.xw),n=Ht(n,t.xw),t.yw=G(t.yw+B.yw),n=Xt(n,t.yw),t.zw=G(t.zw+B.zw),n=Ft(n,t.zw),e.push(n)}return e}function qt(o,e,t,s,n){const{stereoHalfAngle:r,pointRadius:a,scaleX:i,palette:c,background:l}=s,h=o.canvas.width,f=o.canvas.height,w=h/2-h/4,M=h/2+h/4,C=Math.sin(r),u=Math.cos(r),g=Math.sin(n),A=Math.cos(n);o.fillStyle=l,o.fillRect(0,0,h,f);for(let p=0;p<e.length;p+=1){const y=e[p];if(y.w*A-y.x*g<0)continue;const d=y.w*g+y.x*A,m=y.z,S=d*u+m*C,$=d*u-m*C,b=S*i+w,E=$*i+M,D=t[p];o.fillStyle=c[p%c.length],o.beginPath(),o.arc(b,D,a,0,Math.PI*2),o.fill(),o.beginPath(),o.arc(E,D,a,0,Math.PI*2),o.fill()}}const Nt=1e3,Vt=.012,Ut=.15*.5,Bt=["#0000aa","#00aa00","#00aaaa","#ffff55"];function Gt(o){const e=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Yt(Nt);let s=0,n=[];const r=()=>{const i=o.parentElement;if(i){const h=i.getBoundingClientRect(),f=Math.max(320,Math.floor(h.width)),w=Math.floor(window.innerHeight*.65),M=Math.max(240,Math.min(w,Math.floor(f*(350/640))));o.width=f,o.height=M}else o.width=640,o.height=350;const c=o.height/350*70,l=o.height/2;n=t.map(h=>h.y*c+l)},a=()=>{s+=Vt,s>=Math.PI*2&&(s-=Math.PI*2);const i=o.width/640*80;o.height/350*70,qt(e,t,n,{stereoHalfAngle:Ut,pointRadius:2,scaleX:i,palette:Bt,background:"#080808"},s),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const St=.99,At=.61,$t=.86,Et=.74;function vt(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let n=0;n<2;n++)o.push({x:e===0?St:-St,y:t===0?At:-At,z:s===0?$t:-$t,w:n===0?Et:-Et});return o}function x(o,e,t,s){return o*8+e*4+t*2+s}function Zt(){return[{from:x(0,0,0,0),to:x(1,0,0,0),color:1},{from:x(0,1,0,0),to:x(1,1,0,0),color:2},{from:x(0,0,1,0),to:x(1,0,1,0),color:3},{from:x(0,1,1,0),to:x(1,1,1,0),color:4},{from:x(0,0,0,1),to:x(1,0,0,1),color:4},{from:x(0,1,0,1),to:x(1,1,0,1),color:3},{from:x(0,0,1,1),to:x(1,0,1,1),color:2},{from:x(0,1,1,1),to:x(1,1,1,1),color:1},{from:x(0,0,0,0),to:x(0,1,0,0),color:5},{from:x(1,0,0,0),to:x(1,1,0,0),color:6},{from:x(0,0,1,0),to:x(0,1,1,0),color:7},{from:x(1,0,1,0),to:x(1,1,1,0),color:7},{from:x(0,0,0,1),to:x(0,1,0,1),color:7},{from:x(1,0,0,1),to:x(1,1,0,1),color:7},{from:x(0,0,1,1),to:x(0,1,1,1),color:6},{from:x(1,0,1,1),to:x(1,1,1,1),color:5},{from:x(0,0,0,0),to:x(0,0,1,0),color:8},{from:x(1,0,0,0),to:x(1,0,1,0),color:9},{from:x(0,1,0,0),to:x(0,1,1,0),color:10},{from:x(1,1,0,0),to:x(1,1,1,0),color:11},{from:x(0,0,0,1),to:x(0,0,1,1),color:11},{from:x(1,0,0,1),to:x(1,0,1,1),color:10},{from:x(0,1,0,1),to:x(0,1,1,1),color:9},{from:x(1,1,0,1),to:x(1,1,1,1),color:8},{from:x(0,0,0,0),to:x(0,0,0,1),color:12},{from:x(1,0,0,0),to:x(1,0,0,1),color:13},{from:x(0,1,0,0),to:x(0,1,0,1),color:14},{from:x(1,1,0,0),to:x(1,1,0,1),color:15},{from:x(0,0,1,0),to:x(0,0,1,1),color:15},{from:x(1,0,1,0),to:x(1,0,1,1),color:14},{from:x(0,1,1,0),to:x(0,1,1,1),color:13},{from:x(1,1,1,0),to:x(1,1,1,1),color:12}]}function Kt(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Qt(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Jt(o,e,t,s,n){const{stereoHalfAngle:r,scaleX:a,scaleY:i,palette:c,background:l,lineWidth:h}=n,f=o.canvas.width,w=o.canvas.height;o.fillStyle=l,o.fillRect(0,0,f,w);const M=e.map(C=>Kt(C,s));for(let C=0;C<2;C++){const u=C===0?f/4:f/4*3,g=w/2,A=C===0?r:-r,p=[];for(const y of M){const z=Qt({x:y.x,z:y.z},A);p.push({x:z.x*a+u,y:y.y*i+g})}o.lineWidth=h;for(const y of t){const z=p[y.from],d=p[y.to];o.strokeStyle=c[y.color-1]||c[c.length-1],o.beginPath(),o.moveTo(z.x,z.y),o.lineTo(d.x,d.y),o.stroke()}}}const L=2*Math.PI,v=2,Z={xy:.0055*v,xz:.0027*v,yz:.0034*v,xw:2e-4*v,yw:.0039*v,zw:.0091*v},to=.15*.5,oo=["#ffffff","#0000aa","#00aa00","#005555","#00aa00","#00aa55","#00aaaa","#00aaff","#aaaa00","#aaaa55","#55ff55","#55ffaa","#55ffff","#ffff55","#ffffff"];function eo(o){const e=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=vt(),s=Zt(),n={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{n.xy+=Z.xy,n.xz+=Z.xz,n.yz+=Z.yz,n.xw+=Z.xw,n.yw+=Z.yw,n.zw+=Z.zw,n.xy>L&&(n.xy-=L),n.xz>L&&(n.xz-=L),n.yz>L&&(n.yz-=L),n.xw>L&&(n.xw-=L),n.yw>L&&(n.yw-=L),n.zw>L&&(n.zw-=L);const i=o.width/640*80,c=o.height/350*70;Jt(e,t,s,n,{stereoHalfAngle:to,scaleX:i,scaleY:c,palette:oo,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const bt=.99,Tt=.61,Rt=.53,It=.45;function no(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let n=0;n<2;n++)o.push({x:e===0?bt:-bt,y:t===0?Tt:-Tt,z:s===0?Rt:-Rt,w:n===0?It:-It});return o}function X(o,e,t,s){return o*8+e*4+t*2+s}function so(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(0,e,t,s),to:X(1,e,t,s),dimension:1,fromIndices:[0,e,t,s],toIndices:[1,e,t,s]});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(e,0,t,s),to:X(e,1,t,s),dimension:2,fromIndices:[e,0,t,s],toIndices:[e,1,t,s]});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(e,t,0,s),to:X(e,t,1,s),dimension:3,fromIndices:[e,t,0,s],toIndices:[e,t,1,s]});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:X(e,t,s,0),to:X(e,t,s,1),dimension:4,fromIndices:[e,t,s,0],toIndices:[e,t,s,1]});return o}function ro(o,e){const[t,s,n,r]=e,[a,i,c,l]=o.fromIndices,[h,f,w,M]=o.toIndices;if(o.dimension===1){if(i===s&&c===n&&l===r)return!1}else if(o.dimension===2){if(a===t&&c===n&&l===r)return!1}else if(o.dimension===3){if(a===t&&i===s&&l===r)return!1}else if(o.dimension===4&&a===t&&i===s&&c===n)return!1;return!0}function io(o){let e=1/0,t=[0,0,0,0];for(let s=0;s<2;s++)for(let n=0;n<2;n++)for(let r=0;r<2;r++)for(let a=0;a<2;a++){const i=X(s,n,r,a);o[i].w<e&&(e=o[i].w,t=[s,n,r,a])}return t}function co(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function ao(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function lo(o,e,t,s,n){const{stereoHalfAngle:r,scaleX:a,scaleY:i,palette:c,background:l,lineWidth:h}=n,f=o.canvas.width,w=o.canvas.height;o.fillStyle=l,o.fillRect(0,0,f,w);const M=e.map(u=>co(u,s)),C=io(M);for(let u=0;u<2;u++){const g=u===0?f/4:f/4*3,A=w/2,p=u===0?r:-r,y=[];for(const z of M){const d=ao({x:z.x,z:z.z},p);y.push({x:d.x*a+g,y:z.y*i+A})}o.lineWidth=h;for(const z of t){if(!ro(z,C))continue;const d=y[z.from],m=y[z.to];o.strokeStyle=c[z.dimension-1]||c[0],o.beginPath(),o.moveTo(d.x,d.y),o.lineTo(m.x,m.y),o.stroke()}}}const _=2*Math.PI,K=1,Q={xy:.0093*K,xz:.0063*K,yz:.0054*K,xw:.0037*K,yw:.0084*K,zw:.0048*K},fo=.2*.5,ho=["#0000aa","#00aa00","#aaaa00","#ffff55"];function wo(o){const e=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=no(),s=so(),n={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{n.xy+=Q.xy,n.xz+=Q.xz,n.yz+=Q.yz,n.xw+=Q.xw,n.yw+=Q.yw,n.zw+=Q.zw,n.xy>_&&(n.xy-=_),n.xz>_&&(n.xz-=_),n.yz>_&&(n.yz-=_),n.xw>_&&(n.xw-=_),n.yw>_&&(n.yw-=_),n.zw>_&&(n.zw-=_);const i=o.width/640*80,c=o.height/350*70;lo(e,t,s,n,{stereoHalfAngle:fo,scaleX:i,scaleY:c,palette:ho,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const yo=.9,xo=0,zo=.8,uo=0,go=.7,mo=0,po=1.2,Mo=0;function Co(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let n=0;n<2;n++)o.push({x:e===0?yo:xo,y:t===0?zo:uo,z:s===0?go:mo,w:n===0?po:Mo});return o}function F(o,e,t,s){return o*8+e*4+t*2+s}function So(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(0,e,t,s),to:F(1,e,t,s)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(e,0,t,s),to:F(e,1,t,s)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(e,t,0,s),to:F(e,t,1,s)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:F(e,t,s,0),to:F(e,t,s,1)});return o}function Ao(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function $o(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Eo(o,e,t,s,n){const{stereoHalfAngle:r,scaleX:a,scaleY:i,edgeColor:c,centerDotColor:l,background:h,lineWidth:f}=n,w=o.canvas.width,M=o.canvas.height;o.fillStyle=h,o.fillRect(0,0,w,M);const C=e.map(u=>Ao(u,s));for(let u=0;u<2;u++){const g=u===0?w/4:w/4*3,A=M/2,p=u===0?r:-r,y=[];for(const d of C){const m=$o({x:d.x,z:d.z},p);y.push({x:m.x*a+g,y:d.y*i+A})}o.strokeStyle=c,o.lineWidth=f;for(const d of t){const m=y[d.from],S=y[d.to];o.beginPath(),o.moveTo(m.x,m.y),o.lineTo(S.x,S.y),o.stroke()}o.fillStyle=l;const z=Math.max(2,Math.floor(w/240));o.beginPath(),o.arc(g,A,z,0,Math.PI*2),o.fill()}}const T=2*Math.PI,J=.5,tt={xy:-.05*.02*J,xz:-.35*.02*J,yz:.79*.02*J,xw:-.63*.02*J,yw:.57*.02*J,zw:-.47*.02*J},bo=.2*.5,To="#55ffff",Ro="#aa55aa";function Io(o){const e=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Co(),s=So(),n={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{n.xy+=tt.xy,n.xz+=tt.xz,n.yz+=tt.yz,n.xw+=tt.xw,n.yw+=tt.yw,n.zw+=tt.zw,n.xy>T&&(n.xy-=T),n.xy<0&&(n.xy+=T),n.xz>T&&(n.xz-=T),n.xz<0&&(n.xz+=T),n.yz>T&&(n.yz-=T),n.yz<0&&(n.yz+=T),n.xw>T&&(n.xw-=T),n.xw<0&&(n.xw+=T),n.yw>T&&(n.yw-=T),n.yw<0&&(n.yw+=T),n.zw>T&&(n.zw-=T),n.zw<0&&(n.zw+=T);const i=o.width/640*80,c=o.height/350*68;Eo(e,t,s,n,{stereoHalfAngle:bo,scaleX:i,scaleY:c,edgeColor:To,centerDotColor:Ro,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const Po=.9,Oo=0,ko=.8,Do=0,Lo=.7,_o=0;function Wo(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({x:e===0?Po:Oo,y:t===0?ko:Do,z:s===0?Lo:_o,w:0});return o}function ot(o,e,t){return o*4+e*2+t}function jo(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:ot(0,e,t),to:ot(1,e,t)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:ot(e,0,t),to:ot(e,1,t)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:ot(e,t,0),to:ot(e,t,1)});return o}function Ho(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Xo(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Fo(o,e,t,s,n){const{stereoHalfAngle:r,scaleX:a,scaleY:i,edgeColor:c,centerDotColor:l,background:h,lineWidth:f}=n,w=o.canvas.width,M=o.canvas.height;o.fillStyle=h,o.fillRect(0,0,w,M);const C=e.map(u=>Ho(u,s));for(let u=0;u<2;u++){const g=u===0?w/4:w/4*3,A=M/2,p=u===0?r:-r,y=[];for(const d of C){const m=Xo({x:d.x,z:d.z},p);y.push({x:m.x*a+g,y:d.y*i+A})}o.strokeStyle=c,o.lineWidth=f;for(const d of t){const m=y[d.from],S=y[d.to];o.beginPath(),o.moveTo(m.x,m.y),o.lineTo(S.x,S.y),o.stroke()}o.fillStyle=l;const z=Math.max(2,Math.floor(w/240));o.beginPath(),o.arc(g,A,z,0,Math.PI*2),o.fill()}}const R=2*Math.PI,et=.5,nt={xy:-.05*.02*et,xz:-.35*.02*et,yz:.79*.02*et,xw:-.63*.02*et,yw:.57*.02*et,zw:-.47*.02*et},Yo=.2*.5,qo="#55ffff",No="#aa55aa";function Vo(o){const e=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Wo(),s=jo(),n={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(350/640))));o.width=l,o.height=f}else o.width=640,o.height=350},a=()=>{n.xy+=nt.xy,n.xz+=nt.xz,n.yz+=nt.yz,n.xw+=nt.xw,n.yw+=nt.yw,n.zw+=nt.zw,n.xy>R&&(n.xy-=R),n.xy<0&&(n.xy+=R),n.xz>R&&(n.xz-=R),n.xz<0&&(n.xz+=R),n.yz>R&&(n.yz-=R),n.yz<0&&(n.yz+=R),n.xw>R&&(n.xw-=R),n.xw<0&&(n.xw+=R),n.yw>R&&(n.yw-=R),n.yw<0&&(n.yw+=R),n.zw>R&&(n.zw-=R),n.zw<0&&(n.zw+=R);const i=o.width/640*80,c=o.height/350*68;Fo(e,t,s,n,{stereoHalfAngle:Yo,scaleX:i,scaleY:c,edgeColor:qo,centerDotColor:No,background:"#080808",lineWidth:1.5}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const gt=.9,mt=-.9,Uo=1.8;function Bo(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({x:e===0?gt:mt,y:t===0?gt:mt,z:s===0?gt:mt,w:0});return o}function Go(){return{x:Uo,y:0,z:0,w:0}}function st(o,e,t){return o*4+e*2+t}function vo(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:st(0,e,t),to:st(1,e,t)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:st(e,0,t),to:st(e,1,t)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:st(e,t,0),to:st(e,t,1)});return o}function Pt(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Ot(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function Zo(o,e,t,s,n,r){const{stereoHalfAngle:a,scaleX:i,scaleY:c,edgeColor:l,arrowColor:h,centerDotColor:f,background:w,lineWidth:M}=r,C=o.canvas.width,u=o.canvas.height;o.fillStyle=w,o.fillRect(0,0,C,u);const g=e.map(p=>Pt(p,n)),A=Pt(s,n);for(let p=0;p<2;p++){const y=p===0?C/4:C/4*3,z=u/2,d=p===0?a:-a,m=[];for(const E of g){const D=Ot({x:E.x,z:E.z},d);m.push({x:D.x*i+y,y:E.y*c+z})}const $={x:Ot({x:A.x,z:A.z},d).x*i+y,y:A.y*c+z};o.strokeStyle=l,o.lineWidth=M;for(const E of t){const D=m[E.from],j=m[E.to];o.beginPath(),o.moveTo(D.x,D.y),o.lineTo(j.x,j.y),o.stroke()}o.strokeStyle=h,o.lineWidth=M,o.beginPath(),o.moveTo(y,z),o.lineTo($.x,$.y),o.stroke(),o.fillStyle=f;const b=Math.max(2,Math.floor(C/240));o.beginPath(),o.arc(y,z,b,0,Math.PI*2),o.fill()}}const I=2*Math.PI,wt=.5,rt={xy:-.05*.02*wt,xz:-.35*.02*wt,yz:.79*.02*wt,xw:-.42*.02*wt,yw:.52*.02*wt,zw:0},Ko=.2*.5,Qo="#55ffff",Jo="#ffffff",te="#aa55aa";function oe(o){const e=(()=>{const c=o.getContext("2d");if(!c)throw new Error("Unable to acquire 2D rendering context.");return c})(),t=Bo(),s=vo(),n=Go(),r={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},a=()=>{const c=o.parentElement;if(c){const l=c.getBoundingClientRect(),h=Math.max(320,Math.floor(l.width)),f=Math.floor(window.innerHeight*.65),w=Math.max(240,Math.min(f,Math.floor(h*(350/640))));o.width=h,o.height=w}else o.width=640,o.height=350},i=()=>{r.xy+=rt.xy,r.xz+=rt.xz,r.yz+=rt.yz,r.xw+=rt.xw,r.yw+=rt.yw,r.zw+=rt.zw,r.xy>I&&(r.xy-=I),r.xy<0&&(r.xy+=I),r.xz>I&&(r.xz-=I),r.xz<0&&(r.xz+=I),r.yz>I&&(r.yz-=I),r.yz<0&&(r.yz+=I),r.xw>I&&(r.xw-=I),r.xw<0&&(r.xw+=I),r.yw>I&&(r.yw-=I),r.yw<0&&(r.yw+=I),r.zw>I&&(r.zw-=I),r.zw<0&&(r.zw+=I);const c=o.width/640*80,l=o.height/350*68;Zo(e,t,s,n,r,{stereoHalfAngle:Ko,scaleX:c,scaleY:l,edgeColor:Qo,arrowColor:Jo,centerDotColor:te,background:"#080808",lineWidth:1.5}),requestAnimationFrame(i)};return a(),requestAnimationFrame(i),{resize:a}}const pt=.8,Mt=-.8,H=25;function ee(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({x:e===0?pt:Mt,y:t===0?pt:Mt,z:s===0?pt:Mt,w:0});return o}function W(o,e,t){return o*4+e*2+t}function ne(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:W(0,e,t),to:W(1,e,t)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:W(e,0,t),to:W(e,1,t)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)o.push({from:W(e,t,0),to:W(e,t,1)});return o}function se(){return[{v11:W(0,0,0),v12:W(0,1,0),v21:W(1,0,0),colorIndex:0},{v11:W(0,0,1),v12:W(0,1,1),v21:W(1,0,1),colorIndex:1}]}function re(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function ie(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function ce(o,e,t,s,n,r){const{stereoHalfAngle:a,scaleX:i,scaleY:c,edgeDotColor:l,faceColors:h,background:f,dotRadius:w}=r,M=o.canvas.width,C=o.canvas.height;o.fillStyle=f,o.fillRect(0,0,M,C);const u=e.map(g=>re(g,n));for(let g=0;g<2;g++){const A=g===0?M/4:M/4*3,p=C/2,y=g===0?a:-a,z=[];for(const d of u){const m=ie({x:d.x,z:d.z},y);z.push({x:m.x*i+A,y:d.y*c+p})}for(const d of s){const m=z[d.v11],S=z[d.v12],$=z[d.v21],b=($.x-m.x)/H,E=($.y-m.y)/H,D=(S.x-m.x)/H,j=(S.y-m.y)/H;o.fillStyle=h[d.colorIndex];for(let N=1;N<H;N++)for(let V=1;V<H;V++){const dt=m.x+b*N+D*V,Lt=m.y+E*N+j*V;o.beginPath(),o.arc(dt,Lt,w,0,Math.PI*2),o.fill()}}o.fillStyle=l;for(const d of t){const m=z[d.from],S=z[d.to],$=(S.x-m.x)/H,b=(S.y-m.y)/H;for(let E=1;E<=H;E++){const D=m.x+$*E,j=m.y+b*E;o.beginPath(),o.arc(D,j,w,0,Math.PI*2),o.fill()}}o.fillStyle=l,o.beginPath(),o.arc(z[0].x,z[0].y,w,0,Math.PI*2),o.fill()}}const P=2*Math.PI,yt=.5,it={xy:-.05*.01*yt,xz:-.35*.01*yt,yz:.79*.01*yt,xw:-.42*.01*yt,yw:.52*.01*yt,zw:0},ae=.2*.5,le="#ffffff",fe=["#00aa00","#ff5555"];function he(o){const e=(()=>{const c=o.getContext("2d");if(!c)throw new Error("Unable to acquire 2D rendering context.");return c})(),t=ee(),s=ne(),n=se(),r={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},a=()=>{const c=o.parentElement;if(c){const l=c.getBoundingClientRect(),h=Math.max(320,Math.floor(l.width)),f=Math.floor(window.innerHeight*.65),w=Math.max(240,Math.min(f,Math.floor(h*(350/640))));o.width=h,o.height=w}else o.width=640,o.height=350},i=()=>{r.xy+=it.xy,r.xz+=it.xz,r.yz+=it.yz,r.xw+=it.xw,r.yw+=it.yw,r.zw+=it.zw,r.xy>P&&(r.xy-=P),r.xy<0&&(r.xy+=P),r.xz>P&&(r.xz-=P),r.xz<0&&(r.xz+=P),r.yz>P&&(r.yz-=P),r.yz<0&&(r.yz+=P),r.xw>P&&(r.xw-=P),r.xw<0&&(r.xw+=P),r.yw>P&&(r.yw-=P),r.yw<0&&(r.yw+=P),r.zw>P&&(r.zw-=P),r.zw<0&&(r.zw+=P);const c=o.width/640*80,l=o.height/350*68,h=Math.max(.8,o.width/640*.9);ce(e,t,s,n,r,{stereoHalfAngle:ae,scaleX:c,scaleY:l,edgeDotColor:le,faceColors:fe,background:"#080808",dotRadius:h}),requestAnimationFrame(i)};return a(),requestAnimationFrame(i),{resize:a}}const kt=1.25,xt=100,we=6;function ye(){return[{x:kt,y:0,z:0,w:0},{x:-kt,y:0,z:0,w:0}]}function xe(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function ze(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function de(o){const e=Math.max(1,Math.min(15,Math.round(o))),t=Math.round(e/15*255);return`rgb(${t}, ${t}, ${t})`}function ue(o,e,t,s){const{stereoHalfAngle:n,scaleX:r,scaleY:a,background:i,dotRadius:c}=s,l=o.canvas.width,h=o.canvas.height;o.fillStyle=i,o.fillRect(0,0,l,h);const f=e.map(w=>xe(w,t));for(let w=0;w<2;w++){const M=w===0?l/4:l/4*3,C=h/2,u=w===0?n:-n,g=f.map(b=>({x:ze({x:b.x,z:b.z},u).x*r+M,y:b.y*a+C})),A=f[0].w,p=f[1].w,y=(g[1].x-g[0].x)/xt,z=(g[1].y-g[0].y)/xt,d=(p-A)/xt;let m=g[0].x,S=g[0].y,$=A;for(let b=1;b<=xt;b++){m+=y,S+=z,$+=d;const E=$*we+8,D=de(E);o.fillStyle=D,o.beginPath(),o.arc(m,S,c,0,Math.PI*2),o.fill()}}}const O=2*Math.PI,ct=.3,at={xy:-.2*.1*ct,xz:-.13*.1*ct,yz:.23*.1*ct,xw:-.29*.1*ct,yw:.17*.1*ct,zw:-.11*.1*ct},ge=.2*.5;function me(o){const e=(()=>{const a=o.getContext("2d");if(!a)throw new Error("Unable to acquire 2D rendering context.");return a})(),t=ye(),s={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},n=()=>{const a=o.parentElement;if(a){const i=a.getBoundingClientRect(),c=Math.max(320,Math.floor(i.width)),l=Math.floor(window.innerHeight*.65),h=Math.max(240,Math.min(l,Math.floor(c*(480/640))));o.width=c,o.height=h}else o.width=640,o.height=480},r=()=>{s.xy+=at.xy,s.xz+=at.xz,s.yz+=at.yz,s.xw+=at.xw,s.yw+=at.yw,s.zw+=at.zw,s.xy>O&&(s.xy-=O),s.xy<0&&(s.xy+=O),s.xz>O&&(s.xz-=O),s.xz<0&&(s.xz+=O),s.yz>O&&(s.yz-=O),s.yz<0&&(s.yz+=O),s.xw>O&&(s.xw-=O),s.xw<0&&(s.xw+=O),s.yw>O&&(s.yw-=O),s.yw<0&&(s.yw+=O),s.zw>O&&(s.zw-=O),s.zw<0&&(s.zw+=O);const a=o.width/640*100,i=o.height/480*99,c=Math.max(1,o.width/640*1.5);ue(e,t,s,{stereoHalfAngle:ge,scaleX:a,scaleY:i,background:"#000000",dotRadius:c}),requestAnimationFrame(r)};return n(),requestAnimationFrame(r),{resize:n}}const Y=.75,zt=150,pe=4;function Me(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)for(let n=0;n<2;n++)o.push({x:e===0?Y:-Y,y:t===0?Y:-Y,z:s===0?Y:-Y,w:n===0?Y:-Y});return o}function q(o,e,t,s){return o*8+e*4+t*2+s}function Ce(){const o=[];for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(0,e,t,s),to:q(1,e,t,s)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(e,0,t,s),to:q(e,1,t,s)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(e,t,0,s),to:q(e,t,1,s)});for(let e=0;e<2;e++)for(let t=0;t<2;t++)for(let s=0;s<2;s++)o.push({from:q(e,t,s,0),to:q(e,t,s,1)});return o}function Se(o,e){let t={...o};const s=Math.sin(e.xy),n=Math.cos(e.xy),r=t.x*n+t.y*s,a=-t.x*s+t.y*n;t.x=r,t.y=a;const i=Math.sin(e.xz),c=Math.cos(e.xz),l=t.x*c+t.z*i,h=-t.x*i+t.z*c;t.x=l,t.z=h;const f=Math.sin(e.yz),w=Math.cos(e.yz),M=t.y*w+t.z*f,C=-t.y*f+t.z*w;t.y=M,t.z=C;const u=Math.sin(e.xw),g=Math.cos(e.xw),A=t.x*g+t.w*u,p=-t.x*u+t.w*g;t.x=A,t.w=p;const y=Math.sin(e.yw),z=Math.cos(e.yw),d=t.y*z+t.w*y,m=-t.y*y+t.w*z;t.y=d,t.w=m;const S=Math.sin(e.zw),$=Math.cos(e.zw),b=t.z*$+t.w*S,E=-t.z*S+t.w*$;return t.z=b,t.w=E,t}function Ae(o,e){const t=Math.sin(e),s=Math.cos(e);return{x:o.x*s-o.z*t,z:o.x*t+o.z*s}}function $e(o){const e=Math.max(0,Math.min(15,Math.round(o))),t=Math.round(e/15*255);return`rgb(${t}, ${t}, ${t})`}function Ee(o,e,t,s,n){const{stereoHalfAngle:r,scaleX:a,scaleY:i,background:c,dotRadius:l}=n,h=o.canvas.width,f=o.canvas.height;o.fillStyle=c,o.fillRect(0,0,h,f);const w=e.map(M=>Se(M,s));for(let M=0;M<2;M++){const C=M===0?h/4:h/4*3,u=f/2,g=M===0?r:-r,A=w.map(p=>({x:Ae({x:p.x,z:p.z},g).x*a+C,y:p.y*i+u}));for(const p of t){const y=A[p.from],z=A[p.to],d=w[p.from].w,m=w[p.to].w,S=(z.x-y.x)/zt,$=(z.y-y.y)/zt,b=(m-d)/zt;let E=y.x,D=y.y,j=d;for(let N=1;N<=zt;N++){E+=S,D+=$,j+=b;const V=-j*pe+8,dt=$e(V);o.fillStyle=dt,o.beginPath(),o.arc(E,D,l,0,Math.PI*2),o.fill()}}}}const k=2*Math.PI,lt=.3,ft={xy:-.17*.04*lt,xz:-.35*.04*lt,yz:.79*.04*lt,xw:-.42*.04*lt,yw:.52*.04*lt,zw:-.29*.04*lt},be=.16*.5;function Te(o){const e=(()=>{const i=o.getContext("2d");if(!i)throw new Error("Unable to acquire 2D rendering context.");return i})(),t=Me(),s=Ce(),n={xy:0,xz:0,yz:0,xw:0,yw:0,zw:0},r=()=>{const i=o.parentElement;if(i){const c=i.getBoundingClientRect(),l=Math.max(320,Math.floor(c.width)),h=Math.floor(window.innerHeight*.65),f=Math.max(240,Math.min(h,Math.floor(l*(480/640))));o.width=l,o.height=f}else o.width=640,o.height=480},a=()=>{n.xy+=ft.xy,n.xz+=ft.xz,n.yz+=ft.yz,n.xw+=ft.xw,n.yw+=ft.yw,n.zw+=ft.zw,n.xy>k&&(n.xy-=k),n.xy<0&&(n.xy+=k),n.xz>k&&(n.xz-=k),n.xz<0&&(n.xz+=k),n.yz>k&&(n.yz-=k),n.yz<0&&(n.yz+=k),n.xw>k&&(n.xw-=k),n.xw<0&&(n.xw+=k),n.yw>k&&(n.yw-=k),n.yw<0&&(n.yw+=k),n.zw>k&&(n.zw-=k),n.zw<0&&(n.zw+=k);const i=o.width/640*100,c=o.height/480*99,l=Math.max(.5,o.width/640*.7);Ee(e,t,s,n,{stereoHalfAngle:be,scaleX:i,scaleY:c,background:"#000000",dotRadius:l}),requestAnimationFrame(a)};return r(),requestAnimationFrame(a),{resize:r}}const Ct={four01:{create:eo,title:"4D Tesseract – Rotating Hyperrectangle",description:"A 4D rectangular parallelepiped rotating through all six 4D planes."},four02:{create:wo,title:"4D Tesseract – Hidden Edges",description:"A 4D hyperrectangle with automatic hidden edge removal based on W-coordinate depth."},four03:{create:Io,title:"4D Tesseract – Asymmetric Monochrome",description:"An asymmetric 4D hyperrectangle with all edges visible, monochrome rendering."},four04:{create:Vo,title:"3D Cube in 4D Space",description:"A 3D rectangular parallelepiped rotating through 4D space, showing 4D rotations of a 3D object."},four05:{create:oe,title:"3D Cube with Arrow in 4D",description:"A 3D cube with an arrow perpendicular to one face, rotating through 4D space."},four06:{create:he,title:"3D Cube – Dotted Edges & Faces",description:"A 3D cube with dotted edges and two opposite faces covered with colored dot grids."},four14:{create:me,title:"1D Line – W-Depth Shading",description:"A straight line rotating in 4D space with brightness varying by W-coordinate depth."},four15:{create:Te,title:"4D Tesseract – W-Depth Shading",description:"A 4D tesseract with edges rendered as dotted lines, brightness varying by W-coordinate depth."},four16:{create:Gt,title:"4D Sphere (S³) – W-Gated Stereo",description:"A 4D point cloud on the 3-sphere, with perceptual W-gate hiding half the space."}};function Re(){const o=window.location.hash.slice(1);return o in Ct?o:null}function Ie(){const o=document.getElementById("app");if(!o)return;o.innerHTML=`
    <div class="landing">
      <header class="landing-header">
        <h1>4D Visualisations</h1>
        <p class="subtitle">Reconstructions of Undo Uus's experiments in human perception (1997–2000)</p>
        <a href="https://github.com/erikuus/undo-uus-4d-visuals" class="github-link" target="_blank" rel="noopener noreferrer">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" style="vertical-align: middle; margin-right: 6px;">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
          </svg>
          Source code and archival material
        </a>
      </header>

      <section class="intro">
        <p>
          We are able to perceive a stable three-dimensional object from changing two-dimensional images—for
          example when watching a film, a computer screen, or a rotating object rendered on a flat display.
          Although only two-dimensional projections are presented, the perceptual system reconstructs a
          coherent three-dimensional form.
        </p>
        <p class="question">
          These experiments explore a simple but unconventional question:
        </p>
        <p class="emphasis">
          If the perceptual system can recognize a stable three-dimensional structure in dynamically changing
          two-dimensional projections, might it also—when supplied with genuine stereoscopic three-dimensional
          input—recognize a stable four-dimensional structure—so that what initially appears as a changing
          three-dimensional scene is instead experienced as a coherent four-dimensional form?
        </p>
        <p>
          The visualizations presented here are modern reconstructions of programs written by Undo Uus between
          1997–2000 to generate such stimuli using stereoscopic rendering and mathematically correct
          four-dimensional rotations.
        </p>
      </section>

      <section class="experiments">
        <h2>Experiments</h2>
        <div class="vis-grid">
          ${Object.entries(Ct).map(([t,s])=>`
            <a href="#${t}" id="card-${t}" class="vis-card">
              <div class="vis-card-icon">${t==="four16"?"◉":t==="four02"?"⬡":t==="four03"?"◇":t==="four04"?"□":t==="four05"?"→":t==="four06"?"∷":t==="four14"?"―":"⬡"}</div>
              <h3>${s.title}</h3>
              <p>${s.description}</p>
            </a>
          `).join("")}
        </div>
      </section>

      <footer class="landing-footer">
        <div class="footer-legal">
          <p>© 1997–2000 Undo Uus (original experiments)</p>
          <p>© 2024–present Erik Uus (reconstructions and archival presentation)</p>
          <p class="disclaimer">This site is a research and archival project, not a commercial product.</p>
        </div>
      </footer>
    </div>
  `;const e=sessionStorage.getItem("scrollToCard");if(e){sessionStorage.removeItem("scrollToCard");const t=document.getElementById(`card-${e}`);t&&setTimeout(()=>{t.scrollIntoView({behavior:"smooth",block:"center"})},100)}}function Pe(o){const e=Ct[o],t=document.getElementById("app");if(!t||!e)return;t.innerHTML=`
    <div class="container">
      <nav class="vis-nav">
        <a href="#" class="back-link" data-from="${o}">← All Visualisations</a>
      </nav>
      <h1>${e.title}</h1>
      <p>${e.description}</p>
      <canvas id="canvas"></canvas>
      <p class="stereo-hint">For stereoscopic depth perception, view the left and right images using relaxed parallel gaze or cross-eye viewing.</p>
      <footer>Reconstruction of Undo Uus's QBasic experiment (1997–2000).</footer>
    </div>
  `;const s=document.getElementById("canvas");if(!(s instanceof HTMLCanvasElement))throw new Error('Expected a <canvas id="canvas"> element.');const n=e.create(s),r=()=>{var i;return(i=n==null?void 0:n.resize)==null?void 0:i.call(n)};window.addEventListener("resize",r);const a=t.querySelector(".back-link");a&&a.addEventListener("click",i=>{i.preventDefault();const c=a.getAttribute("data-from");c&&sessionStorage.setItem("scrollToCard",c),window.location.hash=""}),window.__visCleanup=()=>{window.removeEventListener("resize",r)}}function Dt(){const o=window.__visCleanup;o&&(o(),delete window.__visCleanup);const e=Re();e?Pe(e):Ie()}window.addEventListener("hashchange",Dt);Dt();
